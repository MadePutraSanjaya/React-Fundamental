{"ast":null,"code":"import _slicedToArray from\"/Users/macintosh/Vscode/React/fundamental-state-props/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{Component,useEffect,useState}from\"react\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function EffectFunc(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isUpdate=_useState4[0],SetUpdate=_useState4[1];// component did mount\nuseEffect(function(){fetch(\"https://jsonplaceholder.typicode.com/users/1\").then(function(response){return response.json();}).then(function(json){setName(json.name);});},[]);var handleSubmit=function handleSubmit(e){e.preventDefault();fetch(\"https://jsonplaceholder.typicode.com/users/1\",{method:\"PUT\",body:JSON.stringify({id:1,name:name}),headers:{\"Content-type\":\"application/json; charset=UTF-8\"}}).then(function(response){return response.json();}).then(function(json){SetUpdate(true);});};// component did update\nuseEffect(function(){if(isUpdate){alert(\"Nama Sukses Di Update\");SetUpdate(false);}},[isUpdate]);// component will unmount\nuseEffect(function(){return function(){console.log(\"component di hapus\");};},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Nama: \",name]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return handleSubmit(e);},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Masukkan Data Nama\",name:\"nama\",onChange:function onChange(e){setName({name:e.target.value});}}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"})]})]});}export default EffectFunc;","map":{"version":3,"names":["React","Component","useEffect","useState","EffectFunc","name","setName","isUpdate","SetUpdate","fetch","then","response","json","handleSubmit","e","preventDefault","method","body","JSON","stringify","id","headers","alert","console","log","target","value"],"sources":["/Users/macintosh/Vscode/React/fundamental-state-props/src/fundamental_basic/useEffect/EffectFunc.js"],"sourcesContent":["import React, { Component, useEffect, useState } from \"react\";\n\nfunction EffectFunc() {\n  const [name, setName] = useState(\"\");\n  const [isUpdate, SetUpdate] = useState(false);\n\n  // component did mount\n  useEffect(() => {\n    fetch(\"https://jsonplaceholder.typicode.com/users/1\")\n      .then((response) => response.json())\n      .then((json) => {\n        setName(json.name);\n      });\n  }, []);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    fetch(\"https://jsonplaceholder.typicode.com/users/1\", {\n      method: \"PUT\",\n      body: JSON.stringify({\n        id: 1,\n        name: name,\n      }),\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\",\n      },\n    })\n      .then((response) => response.json())\n      .then((json) => {\n        SetUpdate(true);\n      });\n  };\n\n  // component did update\n  useEffect(() => {\n    if (isUpdate) {\n      alert(\"Nama Sukses Di Update\");\n      SetUpdate(false);\n    }\n  }, [isUpdate]);\n\n  // component will unmount\n  useEffect(() => {\n    return () => {\n      console.log(\"component di hapus\");\n    };\n  }, []);\n  \n  return (\n    <div>\n      <h3>Nama: {name}</h3>\n      <hr />\n      <form onSubmit={(e) => handleSubmit(e)}>\n        <input\n          type=\"text\"\n          placeholder=\"Masukkan Data Nama\"\n          name=\"nama\"\n          onChange={(e) => {\n            setName({ name: e.target.value });\n          }}\n        />{\" \"}\n        <br />\n        <button type=\"submit\">Submit</button>\n      </form>\n    </div>\n  );\n}\n\nexport default EffectFunc;\n"],"mappings":"2IAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,SAA3B,CAAsCC,QAAtC,KAAsD,OAAtD,C,wFAEA,QAASC,WAAT,EAAsB,CACpB,cAAwBD,QAAQ,CAAC,EAAD,CAAhC,wCAAOE,IAAP,eAAaC,OAAb,eACA,eAA8BH,QAAQ,CAAC,KAAD,CAAtC,yCAAOI,QAAP,eAAiBC,SAAjB,eAEA;AACAN,SAAS,CAAC,UAAM,CACdO,KAAK,CAAC,8CAAD,CAAL,CACGC,IADH,CACQ,SAACC,QAAD,QAAcA,SAAQ,CAACC,IAAT,EAAd,EADR,EAEGF,IAFH,CAEQ,SAACE,IAAD,CAAU,CACdN,OAAO,CAACM,IAAI,CAACP,IAAN,CAAP,CACD,CAJH,EAKD,CANQ,CAMN,EANM,CAAT,CAQA,GAAMQ,aAAY,CAAG,QAAfA,aAAe,CAACC,CAAD,CAAO,CAC1BA,CAAC,CAACC,cAAF,GACAN,KAAK,CAAC,8CAAD,CAAiD,CACpDO,MAAM,CAAE,KAD4C,CAEpDC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBC,EAAE,CAAE,CADe,CAEnBf,IAAI,CAAEA,IAFa,CAAf,CAF8C,CAMpDgB,OAAO,CAAE,CACP,eAAgB,iCADT,CAN2C,CAAjD,CAAL,CAUGX,IAVH,CAUQ,SAACC,QAAD,QAAcA,SAAQ,CAACC,IAAT,EAAd,EAVR,EAWGF,IAXH,CAWQ,SAACE,IAAD,CAAU,CACdJ,SAAS,CAAC,IAAD,CAAT,CACD,CAbH,EAcD,CAhBD,CAkBA;AACAN,SAAS,CAAC,UAAM,CACd,GAAIK,QAAJ,CAAc,CACZe,KAAK,CAAC,uBAAD,CAAL,CACAd,SAAS,CAAC,KAAD,CAAT,CACD,CACF,CALQ,CAKN,CAACD,QAAD,CALM,CAAT,CAOA;AACAL,SAAS,CAAC,UAAM,CACd,MAAO,WAAM,CACXqB,OAAO,CAACC,GAAR,CAAY,oBAAZ,EACD,CAFD,CAGD,CAJQ,CAIN,EAJM,CAAT,CAMA,mBACE,oCACE,+BAAWnB,IAAX,GADF,cAEE,aAFF,cAGE,cAAM,QAAQ,CAAE,kBAACS,CAAD,QAAOD,aAAY,CAACC,CAAD,CAAnB,EAAhB,wBACE,cACE,IAAI,CAAC,MADP,CAEE,WAAW,CAAC,oBAFd,CAGE,IAAI,CAAC,MAHP,CAIE,QAAQ,CAAE,kBAACA,CAAD,CAAO,CACfR,OAAO,CAAC,CAAED,IAAI,CAAES,CAAC,CAACW,MAAF,CAASC,KAAjB,CAAD,CAAP,CACD,CANH,EADF,CAQK,GARL,cASE,aATF,cAUE,eAAQ,IAAI,CAAC,QAAb,oBAVF,GAHF,GADF,CAkBD,CAED,cAAetB,WAAf"},"metadata":{},"sourceType":"module"}